{\rtf1\ansi \deff5\deflang1033
{\fonttbl
{\f5\fswiss\fcharset0\fprq2 Arial;}
}
{\colortbl;\red0\green0\blue0;\red0\green0\blue255;\red0\green255\blue255;\red0\green255\blue0;\red255\green0\blue255;\red255\green0\blue0;
\red255\green255\blue0;\red255\green255\blue255;\red0\green0\blue128;\red0\green128\blue128;\red0\green128\blue0;\red128\green0\blue128;\red128\green0\blue0;\red128\green128\blue0;\red128\green128\blue128;\red192\green192\blue192;}

{\stylesheet
{\f5\fs20\lang2057 \snext0 Normal;}
{\s1\li-1701\sb240\sa240\pagebb\brdrt\brdrs\brdrw15\brsp200 \brdrb\brdrs\brdrw15\brsp200 \b\f5\fs36\lang2057 \sbasedon0\snext16 heading 1;}
{\s2\li-1701\sb360\sa120\keepn \b\f5\fs32\lang2057 \sbasedon0\snext0 heading 2;}
{\s3\li-1701\sb240\sa120\keepn \b\f5\lang2057 \sbasedon0\snext0 heading 3;}
{\*\cs10 \additive Default Paragraph Font;}
{\s15\li708 \f5\fs20\lang2057 \sbasedon0\snext15 Normal Indent;}
{\s16\sb120\sa120 \f5\fs20\lang2057 \sbasedon0\snext16 Body;}
{\s17\li567\sb32\sa32 \f5\fs20\lang2057 \sbasedon0\snext17 Formula;}
{\s18\fi-1985\li2552\sb40\sa40\tx2552 \f5\fs20\lang2057 \sbasedon0\snext18 Attribute;}
{\s19\sb60\sa60 \f5\fs20\lang2057 \sbasedon0\snext19 BodyTop;}
{\s20\sb60\sa60\keepn \b\f5\fs20\lang2057 \sbasedon19\snext20 TopLine;}
{\s21\tqc\tx4536\tqr\tx9072 \f5\fs20\lang2057 \sbasedon0\snext21 header;}
{\s22\li-1701\tqc\tx2835\tqr\tx7088 \f5\fs20\lang2057 \sbasedon0\snext22 footer;}
{\s23\li-1701\sb240\sa240\pagebb\brdrt
\brdrs\brdrw15\brsp200 \brdrb\brdrs\brdrw15\brsp200 \b\f5\fs36\lang2057 \sbasedon1\snext23 Special Header;}
{\s24\sb240\sa120\tqr\tldot\tx7087 \b\f5\fs26\lang2057 \sbasedon0\snext0 toc 1;}
{\s25\li567\tqr\tldot\tx7087 \f5\lang2057 \sbasedon0\snext0 toc 2;}
{\s26\li1134\tqr\tldot\tx7087 \f5\fs20\lang2057 \sbasedon0\snext0 toc 3;}
}

\paperw11906\paperh16838\margl3402\margr1418\margt1418\margb1418 \deftab709\widowctrl\ftnbj\aenddoc\hyphhotz425\noextrasprl\prcolbl\cvmme\sprsspbf\brkfrm\swpbdr\hyphcaps0 \fet0
{\*\template S:\\MSOFFICE\\WINWORD\\WWDOT\\SIMDOC_E.DOT}
\sectd\linex0\headery709\footery709\colsx709\endnhere 
{\*\pnseclvl1\pnucrm\pnstart1\pnindent720\pnhang{\pntxta .}}
{\*\pnseclvl2\pnucltr\pnstart1\pnindent720\pnhang{\pntxta .}}
{\*\pnseclvl3\pndec\pnstart1\pnindent720\pnhang{\pntxta .}}
{\*\pnseclvl4\pnlcltr\pnstart1\pnindent720\pnhang{\pntxta )}}
{\*\pnseclvl5\pndec\pnstart1\pnindent720\pnhang{\pntxtb (}{\pntxta )}}
{\*\pnseclvl6\pnlcltr\pnstart1\pnindent720\pnhang{\pntxtb (}{\pntxta )}}
{\*\pnseclvl7\pnlcrm\pnstart1\pnindent720\pnhang{\pntxtb (}{\pntxta )}}
{\*\pnseclvl8\pnlcltr\pnstart1\pnindent720\pnhang{\pntxtb (}{\pntxta )}}
{\*\pnseclvl9\pnlcrm\pnstart1\pnindent720\pnhang{\pntxtb (}{\pntxta )}}


{\info
{\author ZET}
{\title Biomass Gasification Library}
{\doccomm }
{\creatim\yr110\mo7\dy26\hr10\min36}
}

\pard\plain \s2\li-1701\sb360\sa120\keepn \b\f5\fs32\lang2057 u_comb_o_
\par \pard\plain \s20\sb60\sa60 \b\f5\fs20\lang2057 Purpose
\par \pard\plain \s16\sb120\sa120 \f5\fs20\lang2057 Adeabatic combustion chamber for organic fuel
\par \pard\plain \s16\sb120\sa120 \f5\fs20\lang2057{{\pict\wmetafile8\picw7040\pich6424 \picscalex75 \picscaley75 
010009000003e803000009001c0000000000
050000000b02a00060ff050000000c02bffe
600107000000fc020000ffffff0000000400
00002d01000008000000fa02000003000000
00000000040000002d010100070000001b04
9cff640064009cff050000000102ffffff00
08000000fa02000000000000000000000400
00002d01020007000000fc020000ffffff00
0000040000002d01030004000000f0010100
04000000f001000007000000fc0201000000
00000000040000002d01000008000000fa02
00000300000000000000040000002d010100
0b0000001708ddff230023002300ceff3200
3200ceff040000002d010200040000002d01
030004000000f001010008000000fa020000
0300000080008000040000002d0101000400
00002d0100000a00000025030300e7ff6400
00004b0019006400040000002d0102000400
00002d01030004000000f001010008000000
fa0200000300000000000000040000002d01
0100050000001402b5ff4b00050000001302
4b00b5ff040000002d01020004000000f001
010008000000fa0200000300000000000000
040000002d010100050000001402b5ffb5ff
0500000013024b004b00040000002d010200
04000000f001010008000000fa0200000300
000000000000040000002d01010004000000
2d0100000a000000250303009cffe7ffb5ff
00009cff1900040000002d01020004000000
2d01030004000000f00101001c000000fb02
dbff00000000000090010000000003020122
417269616c000000ee0d0a0348f2120058b1
f17761b1f1772040f377d00e661104000000
2d0101000500000002010100000005000000
2e0100000000050000000902000000000700
00002105010046006400ceff1c000000fb02
1000070000000000bc020000000001020222
53797374656d0000d00e661100000a002100
8a0100000000ffffffffd4f2120004000000
2d010400050000002e010000000005000000
020102000000050000000902000000001c00
0000fb02dbff000000000000900100000000
03020122417269616c000000ef0d0a0348f2
120058b1f17761b1f1772040f377d00e6611
040000002d01050005000000020101000000
050000002e01000000000500000009020000
0000070000002105010041000000b5ff0400
00002d010400050000002e01000000000500
000002010200000005000000090200000000
040000002d01000008000000fa0200000100
000000ff0000040000002d01060007000000
fc02000000ff00000000040000002d010700
070000001b04f1ffabff0f008dff04000000
2d01000008000000fa02000001000000ffff
ff00040000002d010800070000001b040100
9cffffff8dff040000002d01060004000000
f001080004000000f0010700040000002d01
0200040000002d01030004000000f0010600
050000000201010000001c000000fb021c00
000000000000000000000000000000004172
69616c000000bb0e0a922cf2120058b1f177
61b1f1772040f377d00e6611040000002d01
0600050000002e011a000000080000002105
0300616972ff00008aff050000002e010000
0000040000002d01040004000000f0010600
040000002d01000008000000fa0200000100
000000ff0000040000002d01060004000000
2d010300070000001b04f1ff73000f005500
040000002d01000008000000fa0200000100
000000ff0000040000002d01070007000000
1b0401007300ffff6400040000002d010600
04000000f0010700040000002d0102000400
00002d01030004000000f001060005000000
0201010000001c000000fb021c0000000000
000000000000000000000000417269616c00
0000bb0e0a942cf2120058b1f17761b1f177
2040f377d00e6611040000002d0106000500
00002e011800000009000000210505006472
61696e0000007600050000002e0100000000
040000002d01040004000000f00106000400
00002d01000008000000fa02000001000000
80008000040000002d01060007000000fc02
0000800080000000040000002d0107000700
00001b0455000f007300f1ff040000002d01
000008000000fa02000001000000ffffff00
040000002d010800070000001b0473000100
6400ffff040000002d01060004000000f001
080004000000f0010700040000002d010200
040000002d01030004000000f00106000500
00000201010000001c000000fb021c000000
000000000000000000000000000041726961
6c000000bb0e0a962cf2120058b1f17761b1
f1772040f377d00e6611040000002d010600
050000002e010e0000000800000021050400
6675656c76000000050000002e0100000000
040000002d01040004000000f00106000400
00002d01000008000000fa02000001000000
00008000040000002d010600040000002d01
0300070000001b048dff0f00abfff1ff0400
00002d01000008000000fa02000001000000
00008000040000002d010700070000001b04
9cff01008dffffff040000002d0106000400
0000f0010700040000002d01020004000000
2d01030004000000f0010600050000000201
010000001c000000fb021c00000000000000
00000000000000000000417269616c000000
bb0e0a982cf2120058b1f17761b1f1772040
f377d00e6611040000002d01060005000000
2e010600000009000000210505005b617368
5d008aff0000050000002e01000000000400
00002d01040004000000f001060003000000
0000}} 
\par \pard\plain \s16\sb120\sa120 \f5\fs20\lang2057{{\pict\wmetafile8\picw7634\pich6424 \picscalex75 \picscaley75 
0100090000030a04000009001c0000000000
050000000b02a00041ff050000000c02bffe
7d0107000000fc020000ffffff0000000400
00002d01000008000000fa02000003000000
00000000040000002d010100070000001b04
9cff640064009cff050000000102ffffff00
08000000fa02000000000000000000000400
00002d01020007000000fc020000ffffff00
0000040000002d01030004000000f0010100
04000000f001000008000000fa0200000300
000000000000040000002d01000005000000
14024b00b5ff050000001302b5ff4b000400
00002d01020004000000f001000008000000
fa0200000300000000000000040000002d01
00000500000014024b004b00050000001302
b5ffb5ff040000002d01020004000000f001
000007000000fc0201000000000000000400
00002d01000008000000fa02000003000000
00000000040000002d0101000b0000001708
2300ddffddffdeffceff32003200ceff0400
00002d010200040000002d01030004000000
f001010008000000fa020000030000008000
8000040000002d010100040000002d010000
08000000250302001900640000004b000400
00002d010200040000002d01030004000000
f001010008000000fa020000030000008000
8000040000002d010100040000002d010000
080000002503020000004b00e7ff64000400
00002d010200040000002d01030004000000
f001010008000000fa020000030000000000
0000040000002d010100040000002d010000
0a0000002503030019009cff0000b5ffe7ff
9cff040000002d010200040000002d010300
04000000f00101001c000000fb02dbff0000
000000009001000000000302012241726961
6c000000f00d0a0348f2120058b1f17761b1
f1772040f377b70566cf040000002d010100
05000000020101000000050000002e010000
000005000000090200000000070000002105
010046026400ceff1c000000fb0210000700
00000000bc02000000000102022253797374
656d0000b70566cf00000a0021008a010000
0000ffffffffd4f21200040000002d010400
050000002e01000000000500000002010100
0000050000000902000000001c000000fb02
dbff00000000000090010000000003020122
417269616c000000f10d0a0348f2120058b1
f17761b1f1772040f377b70566cf04000000
2d0105000500000002010100000005000000
2e0100000000050000000902000000000700
0000210501004102ceff1900040000002d01
0400050000002e0100000000050000000201
010000000500000009020000000004000000
2d01000008000000fa0200000100000000ff
0000040000002d01060007000000fc020000
00ff00000000040000002d01070007000000
1b048dff0f00abfff1ff040000002d010000
08000000fa02000001000000ffffff000400
00002d010800070000001b049cff01008dff
ffff040000002d01060004000000f0010800
04000000f0010700040000002d0102000400
00002d01030004000000f001060005000000
0201010000001c000000fb021c0000000000
000000000000000000000000417269616c00
0000d00e0a1a2cf2120058b1f17761b1f177
2040f377b70566cf040000002d0106000500
00002e010600000008000000210503006169
72ff8aff0000050000002e01000000000400
00002d01040004000000f001060004000000
2d01000008000000fa0200000100000000ff
0000040000002d010600040000002d010300
070000001b04f1ffabff0f008dff04000000
2d01000008000000fa0200000100000000ff
0000040000002d010700070000001b040100
9cffffff8dff040000002d01060004000000
f0010700040000002d010200040000002d01
030004000000f00106000500000002010100
00001c000000fb021c000000000000000000
0000000000000000417269616c000000d00e
0a1c2cf2120058b1f17761b1f1772040f377
b70566cf040000002d010600050000002e01
1a0000000900000021050500647261696eff
00008aff050000002e010000000004000000
2d01040004000000f0010600040000002d01
000008000000fa0200000100000080008000
040000002d01060007000000fc0200008000
80000000040000002d010700070000001b04
55000f007300f1ff040000002d0100000800
0000fa02000001000000ffffff0004000000
2d010800070000001b04730001006400ffff
040000002d01060004000000f00108000400
0000f0010700040000002d01020004000000
2d01030004000000f0010600050000000201
010000001c000000fb021c00000000000000
00000000000000000000417269616c000000
d00e0a1e2cf2120058b1f17761b1f1772040
f377b70566cf040000002d01060005000000
2e010e00000008000000210504006675656c
76000000050000002e010000000004000000
2d01040004000000f0010600040000002d01
000008000000fa0200000100000000008000
040000002d010600040000002d0103000700
00001b04f1ff73000f005500040000002d01
000008000000fa0200000100000000008000
040000002d010700070000001b0401007300
ffff6400040000002d01060004000000f001
0700040000002d010200040000002d010300
04000000f001060005000000020101000000
1c000000fb021c0000000000000000000000
000000000000417269616c000000d00e0a20
2cf2120058b1f17761b1f1772040f377b705
66cf040000002d010600050000002e011800
000009000000210505005b6173685d000000
7600050000002e0100000000040000002d01
040004000000f0010600030000000000}} 
\par \pard\plain \s16\sb120\sa120 \f5\fs20\lang2057{{\pict\wmetafile8\picw7018\pich6424 \picscalex75 \picscaley75 
010009000003e803000009001c0000000000
050000000b02a00060ff050000000c02bffe
5e0107000000fc020000ffffff0000000400
00002d01000008000000fa02000003000000
00000000040000002d010100070000001b04
9cff640064009cff050000000102ffffff00
08000000fa02000000000000000000000400
00002d01020007000000fc020000ffffff00
0000040000002d01030004000000f0010100
04000000f001000007000000fc0201000000
00000000040000002d01000008000000fa02
00000300000000000000040000002d010100
0b0000001708ddffddffdeff2400ceff3200
3200ceff040000002d010200040000002d01
030004000000f001010008000000fa020000
0300000000000000040000002d0101000500
00001402b5ffb5ff0500000013024b004b00
040000002d01020004000000f00101000800
0000fa020000030000000000000004000000
2d0101000500000014024b00b5ff05000000
1302b5ff4b00040000002d01020004000000
f001010008000000fa020000030000008000
8000040000002d010100040000002d010000
0a00000025030300e7ff640000004b001900
6400040000002d010200040000002d010300
04000000f001010008000000fa0200000300
000000000000040000002d01010004000000
2d0100000a000000250303009cffe7ffb5ff
00009cff1900040000002d01020004000000
2d01030004000000f00101001c000000fb02
dbff00000000000090010000000003020122
417269616c000000f20d0a0348f2120058b1
f17761b1f1772040f377bb0e669b04000000
2d0101000500000002010100000005000000
2e0100000000050000000902000000000700
00002105010046006400ceff1c000000fb02
1000070000000000bc020000000001020222
53797374656d0000bb0e669b00000a002100
8a0100000000ffffffffd4f2120004000000
2d010400050000002e010000000005000000
020101000000050000000902000000001c00
0000fb02dbff000000000000900100000000
03020122417269616c000000f30d0a0348f2
120058b1f17761b1f1772040f377bb0e669b
040000002d01050005000000020101000000
050000002e01000000000500000009020000
0000070000002105010041000000b5ff0400
00002d010400050000002e01000000000500
000002010100000005000000090200000000
040000002d01000008000000fa0200000100
000000ff0000040000002d01060007000000
fc02000000ff00000000040000002d010700
070000001b04f1ffabff0f008dff04000000
2d01000008000000fa02000001000000ffff
ff00040000002d010800070000001b040100
9cffffff8dff040000002d01060004000000
f001080004000000f0010700040000002d01
0200040000002d01030004000000f0010600
050000000201010000001c000000fb021c00
000000000000000000000000000000004172
69616c000000b7050ad72cf2120058b1f177
61b1f1772040f377bb0e669b040000002d01
0600050000002e011a000000080000002105
0300616972ff00008aff050000002e010000
0000040000002d01040004000000f0010600
040000002d01000008000000fa0200000100
000000ff0000040000002d01060004000000
2d010300070000001b048dff0f00abfff1ff
040000002d01000008000000fa0200000100
000000ff0000040000002d01070007000000
1b049cff01008dffffff040000002d010600
04000000f0010700040000002d0102000400
00002d01030004000000f001060005000000
0201010000001c000000fb021c0000000000
000000000000000000000000417269616c00
0000b7050ad92cf2120058b1f17761b1f177
2040f377bb0e669b040000002d0106000500
00002e010600000009000000210505006472
61696e008aff0000050000002e0100000000
040000002d01040004000000f00106000400
00002d01000008000000fa02000001000000
80008000040000002d01060007000000fc02
0000800080000000040000002d0107000700
00001b0455000f007300f1ff040000002d01
000008000000fa02000001000000ffffff00
040000002d010800070000001b0473000100
6400ffff040000002d01060004000000f001
080004000000f0010700040000002d010200
040000002d01030004000000f00106000500
00000201010000001c000000fb021c000000
000000000000000000000000000041726961
6c000000b7050adb2cf2120058b1f17761b1
f1772040f377bb0e669b040000002d010600
050000002e010e0000000800000021050400
6675656c76000000050000002e0100000000
040000002d01040004000000f00106000400
00002d01000008000000fa02000001000000
00008000040000002d010600040000002d01
0300070000001b04f1ff73000f0055000400
00002d01000008000000fa02000001000000
00008000040000002d010700070000001b04
01007300ffff6400040000002d0106000400
0000f0010700040000002d01020004000000
2d01030004000000f0010600050000000201
010000001c000000fb021c00000000000000
00000000000000000000417269616c000000
b7050add2cf2120058b1f17761b1f1772040
f377bb0e669b040000002d01060005000000
2e011800000009000000210505005b617368
5d0000007600050000002e01000000000400
00002d01040004000000f001060003000000
0000}} 
\par 
\par \pard\plain \s20\sb60\sa60 \b\f5\fs20\lang2057 Connections
\par \pard\plain \s18\fi-1985\li2552\sb40\sa40\tx2552 \f5\fs20\lang2057 c_st_g_: air\par \pard\plain \s18\fi-1985\li2552\sb40\sa40\tx2552 \f5\fs20\lang2057 c_st_g_: drain\par \pard\plain \s18\fi-1985\li2552\sb40\sa40\tx2552 \f5\fs20\lang2057 c_st_o_: fuel\par \pard\plain \s18\fi-1985\li2552\sb40\sa40\tx2552 \f5\fs20\lang2057 c_st_s_: ash\par \pard\plain \s3\li-1701\sb240\sa120\keepn \b\f5\lang2057 org_comb
\par \pard\plain \s20\sb60\sa60 \b\f5\fs20\lang2057 Purpose
\par \pard\plain \s16\sb120\sa120 \f5\fs20\lang2057 Standard model for general organic fuels without ash content (oils). No Ash, Dust, Char, or Tar allowed at all. The ash drain remains unconnected.\par \pard\plain \s20\sb60\sa60 \b\f5\fs20\lang2057 Model equations
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # Model u_comb_o_\org_comb   developed 09.09.02 (T. Proell), latest modification 25.05.2009 (T. Proell)
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # *********************************************************************************************************************************************************************************
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # ************************************************************             E Q U A T I O N      S E C T I O N                *******************************************************
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # *********************************************************************************************************************************************************************************
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # Model org_comb does not allow any Char at all. 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # Ash in fuel is optionally allowed, but all the ash exits the combustor as Dust in the exhaust gas.
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # No Dust allowed in combustion air.
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # Tar is optionally allowed in combustion air.
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # This is only a combustion chamber, no carbonate or Ca(OH)2 conversion can take place in the Dust phase
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # Lack of oxygen will produce CO in exhaust gas.
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # Energy balance
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 fh_total:\tab drain.massflow*drain.h_total + Q_loss*3600.0 \tab = air.massflow*air.h_total \tab + fuel.massflow*fuel.h_total;
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # Elementary mass balances
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # Case 1: No Tar referenced in combustion air
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 ifl !ref(air.Tar) then
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab f1H:\tab drain.massflow*(4*drain.Gas.wC2H4*1.00794/28.05376 + 6*drain.Gas.wC2H6*1.00794/30.06964 + 8*drain.Gas.wC3H8*1.00794/44.09652 + 4*drain.Gas.wCH4*1.00794/16.04276 + drain.Gas.wH2 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab \tab + 2*drain.Gas.wH2O*1.00794/18.01528 + 2*drain.Gas.wH2S*1.00794/34.08188 + drain.Gas.wHCl*1.00794/36.46064 + drain.Gas.wHCN*1.00794/27.02568 + 3*drain.Gas.wNH3*1.00794/17.03056)
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab = air.massflow*(4*air.Gas.wC2H4*1.00794/28.0536 + 6*air.Gas.wC2H6*1.00794/30.0694 + 8*air.Gas.wC3H8*1.00794/44.0962 + 4*air.Gas.wCH4*1.00794/16.0428 + air.Gas.wH2 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab \tab + 2*air.Gas.wH2O*1.00794/18.01528 + 2*air.Gas.wH2S*1.00794/34.08188 + air.Gas.wHCl*1.00794/36.46064 + air.Gas.wHCN*1.00794/27.02568 + 3*air.Gas.wNH3*1.00794/17.03056) 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab + fuel.massflow*(2*fuel.water_content*1.00794/18.01528 + (1.0 - fuel.water_content - fuel.ash_content)*fuel.Organic.wH);
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab f1C:\tab drain.massflow*(2*drain.Gas.wC2H4*12.011/28.0536 + 2*drain.Gas.wC2H6*12.011/30.0694 + 3*drain.Gas.wC3H8*12.011/44.0962 + drain.Gas.wCH4*12.011/16.0428 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab \tab + drain.Gas.wCO*12.011/28.0140 + drain.Gas.wCO2*12.011/44.0098 + drain.Gas.wHCN*12.011/27.02568)
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab = air.massflow*(2*air.Gas.wC2H4*12.011/28.0536 + 2*air.Gas.wC2H6*12.011/30.0694 + 3*air.Gas.wC3H8*12.011/44.0962 + air.Gas.wCH4*12.011/16.0428 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab \tab + air.Gas.wCO*12.011/28.0140 + air.Gas.wCO2*12.011/44.0098 + air.Gas.wHCN*12.011/27.02568) 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab + fuel.massflow*(1.0 - fuel.water_content - fuel.ash_content)*fuel.Organic.wC;
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab f1N:\tab drain.massflow*(drain.Gas.wHCN*14.00674/27.02568 + drain.Gas.wN2 + 2*drain.Gas.wN2O*14.00674/44.01288 + drain.Gas.wNH3*14.00674/17.03056 + drain.Gas.wNO*14.00674/30.00614)
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab = air.massflow*(air.Gas.wHCN*14.00674/27.02568 + air.Gas.wN2 + 2*air.Gas.wN2O*14.00674/44.01288 + air.Gas.wNH3*14.00674/17.03056 + air.Gas.wNO*14.00674/30.00614) 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab + fuel.massflow*(1.0 - fuel.water_content - fuel.ash_content)*fuel.Organic.wN;
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab f1O:\tab drain.massflow*(drain.Gas.wCO*15.9994/28.0104 + 2*drain.Gas.wCO2*15.9994/44.0098 + drain.Gas.wH2O*15.9994/18.01528 + drain.Gas.wN2O*15.9994/44.01288 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab \tab + drain.Gas.wNO*15.9994/30.00614 + drain.Gas.wO2 + 2*drain.Gas.wSO2*15.9994/64.0648)
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab  \tab = air.massflow*(air.Gas.wCO*15.9994/28.0104 + 2*air.Gas.wCO2*15.9994/44.0098 + air.Gas.wH2O*15.9994/18.01528 + air.Gas.wN2O*15.9994/44.01288 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab \tab + air.Gas.wNO*15.9994/30.00614 + air.Gas.wO2 + 2*air.Gas.wSO2*15.9994/64.0648)
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab + fuel.massflow*(fuel.water_content*15.9994/18.01528 + (1.0 - fuel.water_content - fuel.ash_content)*fuel.Organic.wO);
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab f1S:\tab drain.massflow*(drain.Gas.wH2S*32.066/34.08188 + drain.Gas.wSO2*32.066/64.0648)
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab = air.massflow*(air.Gas.wH2S*32.066/34.08188 + air.Gas.wSO2*32.066/64.0648)
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab + fuel.massflow*(1.0 - fuel.water_content - fuel.ash_content)*fuel.Organic.wS;
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab f1Cl:\tab drain.massflow*drain.Gas.wHCl*35.4527/36.46064 = air.massflow*air.Gas.wHCl*35.4527/36.46064 + fuel.massflow*(1.0 - fuel.water_content - fuel.ash_content)*fuel.Organic.wCl;
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab f1Ar:\tab drain.massflow*drain.Gas.wAr = air.massflow*air.Gas.wAr;
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # Case 2: Tar referenced in combustion air
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 elsel
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab f2H:\tab drain.massflow*(4*drain.Gas.wC2H4*1.00794/28.05376 + 6*drain.Gas.wC2H6*1.00794/30.06964 + 8*drain.Gas.wC3H8*1.00794/44.09652 + 4*drain.Gas.wCH4*1.00794/16.04276 + drain.Gas.wH2 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab \tab + 2*drain.Gas.wH2O*1.00794/18.01528 + 2*drain.Gas.wH2S*1.00794/34.08188 + drain.Gas.wHCl*1.00794/36.46064 + drain.Gas.wHCN*1.00794/27.02568 + 3*drain.Gas.wNH3*1.00794/17.03056)
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab = air.massflow*(4*air.Gas.wC2H4*1.00794/28.0536 + 6*air.Gas.wC2H6*1.00794/30.0694 + 8*air.Gas.wC3H8*1.00794/44.0962 + 4*air.Gas.wCH4*1.00794/16.0428 + air.Gas.wH2 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab \tab + 2*air.Gas.wH2O*1.00794/18.01528 + 2*air.Gas.wH2S*1.00794/34.08188 + air.Gas.wHCl*1.00794/36.46064 + air.Gas.wHCN*1.00794/27.02568 + 3*air.Gas.wNH3*1.00794/17.03056)
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab + air.nvolflow*(air.tar_content/1000.0)*air.Tar.wH
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab + fuel.massflow*(2*fuel.water_content*1.00794/18.01528 + (1.0 - fuel.water_content - fuel.ash_content)*fuel.Organic.wH);
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab f2C:\tab drain.massflow*(2*drain.Gas.wC2H4*12.011/28.0536 + 2*drain.Gas.wC2H6*12.011/30.0694 + 3*drain.Gas.wC3H8*12.011/44.0962 + drain.Gas.wCH4*12.011/16.0428 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab \tab + drain.Gas.wCO*12.011/28.0140 + drain.Gas.wCO2*12.011/44.0098 + drain.Gas.wHCN*12.011/27.02568)
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab = air.massflow*(2*air.Gas.wC2H4*12.011/28.0536 + 2*air.Gas.wC2H6*12.011/30.0694 + 3*air.Gas.wC3H8*12.011/44.0962 + air.Gas.wCH4*12.011/16.0428 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab \tab + air.Gas.wCO*12.011/28.0140 + air.Gas.wCO2*12.011/44.0098 + air.Gas.wHCN*12.011/27.02568) 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab + air.nvolflow*(air.tar_content/1000.0)*air.Tar.wC
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab + fuel.massflow*(1.0 - fuel.water_content - fuel.ash_content)*fuel.Organic.wC;
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab f2N:\tab drain.massflow*(drain.Gas.wHCN*14.00674/27.02568 + drain.Gas.wN2 + 2*drain.Gas.wN2O*14.00674/44.01288 + drain.Gas.wNH3*14.00674/17.03056 + drain.Gas.wNO*14.00674/30.00614)
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab = air.massflow*(air.Gas.wHCN*14.00674/27.02568 + air.Gas.wN2 + 2*air.Gas.wN2O*14.00674/44.01288 + air.Gas.wNH3*14.00674/17.03056 + air.Gas.wNO*14.00674/30.00614) 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab + air.nvolflow*(air.tar_content/1000.0)*air.Tar.wN
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab + fuel.massflow*(1.0 - fuel.water_content - fuel.ash_content)*fuel.Organic.wN;
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab f2O:\tab drain.massflow*(drain.Gas.wCO*15.9994/28.0104 + 2*drain.Gas.wCO2*15.9994/44.0098 + drain.Gas.wH2O*15.9994/18.01528 + drain.Gas.wN2O*15.9994/44.01288 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab \tab + drain.Gas.wNO*15.9994/30.00614 + drain.Gas.wO2 + 2*drain.Gas.wSO2*15.9994/64.0648)
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab  \tab = air.massflow*(air.Gas.wCO*15.9994/28.0104 + 2*air.Gas.wCO2*15.9994/44.0098 + air.Gas.wH2O*15.9994/18.01528 + air.Gas.wN2O*15.9994/44.01288 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab \tab + air.Gas.wNO*15.9994/30.00614 + air.Gas.wO2 + 2*air.Gas.wSO2*15.9994/64.0648)
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab + air.nvolflow*(air.tar_content/1000.0)*air.Tar.wO
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab + fuel.massflow*(fuel.water_content*15.9994/18.01528 + (1.0 - fuel.water_content - fuel.ash_content)*fuel.Organic.wO);
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab f2S:\tab drain.massflow*(drain.Gas.wH2S*32.066/34.08188 + drain.Gas.wSO2*32.066/64.0648)
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab = air.massflow*(air.Gas.wH2S*32.066/34.08188 + air.Gas.wSO2*32.066/64.0648)
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab + air.nvolflow*(air.tar_content/1000.0)*air.Tar.wS
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab + fuel.massflow*(1.0 - fuel.water_content - fuel.ash_content)*fuel.Organic.wS;
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab f2Cl:\tab drain.massflow*drain.Gas.wHCl*35.4527/36.46064 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab = air.massflow*air.Gas.wHCl*35.4527/36.46064 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab + air.nvolflow*(air.tar_content/1000.0)*air.Tar.wCl
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab + fuel.massflow*(1.0 - fuel.water_content - fuel.ash_content)*fuel.Organic.wCl;
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab f2Ar:\tab drain.massflow*drain.Gas.wAr = air.massflow*air.Gas.wAr;
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 endifl
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # Balance for inorganic solids
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 ifl ref(fuel.Ash) && ref(fuel.Ash) == ref(drain.Dust) then f_Ash:\tab drain.nvolflow*drain.dust_content = 1000.0*fuel.massflow*fuel.ash_content;\tab endifl
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # Chemical reactions\tab 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # No organic carbon in exhaust gas
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 frC2H4:\tab drain.Gas.yC2H4 = 0.0;
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 frC2H6:\tab drain.Gas.yC2H6 = 0.0;
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 frC3H8:\tab drain.Gas.yC3H8 = 0.0;
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 frCH4:\tab drain.Gas.yCH4 = 0.0;
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # No CO in case of lambda >= 1
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 frCO:\tab if lambda >= 1.0 \tab then drain.Gas.yCO = 0.0;
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab \tab else drain.Gas.yO2 = 0.0;
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # No hydrogen, hydrogen sulfide, hydrogen cyanide, nitrous oxide, or ammonia in exhaust gas
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 frH2:\tab drain.Gas.yH2 = 0.0;
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 frH2S:\tab drain.Gas.yH2S = 0.0;
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 frHCN:\tab drain.Gas.yHCN = 0.0;
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 frN2O:\tab drain.Gas.yN2O = 0.0;
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 frNH3:\tab drain.Gas.yNH3 = 0.0;
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # No thermal NO is formed, N2 passes without reaction
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 frN2:\tab  drain.nvolflow*drain.Gas.yN2 = air.nvolflow*air.Gas.yN2;
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # Pressure drops
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 fdp_air:\tab air.p = drain.p + dp_air;
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 fdp_fuel:\tab fuel.p = drain.p + dp_fuel;
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # Air ratio lambda: (available oxygen)/(stoichiometically required oxygen)
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 f_lambda:\tab air.massflow*air.Gas.wO2*(lambda - 1.0) = lambda*drain.massflow*(drain.Gas.wO2 - drain.Gas.wCO*31.9988/56.0208 + drain.Gas.wNO*31.9988/60.01228);
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab \tab \tab 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # Thermal fuel power
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 ifl !ref(air.Tar) then
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab f1P_therm:\tab P_therm*3600.0 = fuel.massflow*fuel.lhv + air.nvolflow*air.Gas.LHV*1000.0;
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 elsel
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab f2P_therm:\tab P_therm*3600.0 = fuel.massflow*fuel.lhv + air.nvolflow*air.Gas.LHV*1000.0 + air.nvolflow*(air.tar_content/1000.0)*air.Tar.lhv;
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 endifl
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # Heat loss to the environment
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 fQ_loss:\tab Q_loss = P_therm*q_loss_rel/100.0;
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # Exergy loss
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 fE_loss:\tab air.Exergy + fuel.Exergy = drain.Exergy + E_loss;
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # *********************************************************************************************************************************************************************************
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # ************************************************************               T E S T I N G      S E C T I O N                  *******************************************************
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # *********************************************************************************************************************************************************************************
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # Test for positive pressure drops
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 tdp_air:\tab test (dp_air > -0.00001) \tab error "Pressure drop for air negative.";
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 tdp_fuel:\tab test (dp_fuel > -0.00001)\tab error "Pressure drop for fuel negative.";
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # Test if lambda is possible
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 tlambda1:\tab test (lambda >= 1.0) \tab warning "Lack of oxygen in combustor: lambda < 1.";
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 tlambda2: test (drain.Gas.yCO2 >= 0.0)\tab error "Not enough carbon for incomplete combustion to CO.";
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # Test for positive heat loss
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 tQ_loss:\tab test(q_loss_rel > -0.01) warning "Negative heat loss in combustion chamber.";
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # Test if Dust is properly referenced
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 ifl ref(air.Dust) then tdust_air:\tab test (0.0>1.0) error "No Dust allowed in combustion air."; endifl
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 ifl ref(fuel.Ash) && !ref(drain.Dust) then tdust_fuel1:\tab test (0.0>1.0) error "Ash in fuel requires Dust in exhaust gas."; endifl
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 ifl !ref(fuel.Ash) && ref(drain.Dust) then tdust_fuel2:\tab test (0.0>1.0) error "Dust in exhaust gas requires Ash in fuel."; endifl
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 ifl !ref(air.Dust) && ref(fuel.Ash) && ref(drain.Dust) && ref(fuel.Ash) != ref(drain.Dust) then tdust_fuel3:\tab test (0.0>1.0) warning "In drain you may use the same Dust object like Ash in fuel."; endifl
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # Test if Char and Tar are omitted
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 ifl ref(air.Char) then ttar_air: test(0.0>1.0) error "No Char allowed in combustion air."; endifl
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 ifl ref(drain.Char) || ref(drain.Tar) then tchartar_drain: test(0.0>1.0) error "No Char or Tar allowed in exhaust gas."; endifl
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # Test if the ash drain is unconnected
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 ifl ref(ash) then tash:\tab test(0.0>1.0) error "No ash drain allowed in this model - use org_comb_ash."; endifl
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # Test for positive heat loss
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 tq_loss_rel1:\tab test (q_loss_rel > -0.00001) error "Heat loss negative.";
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # Test if relative heat loss is smaller than 100%
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 tq_loss_rel2:\tab test (q_loss_rel < 100.001) warning "Heat loss exceeds thermal fuel power.";
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s20\sb60\sa60 \b\f5\fs20\lang2057 Variables
\par \pard\plain \s18\fi-1985\li2552\sb40\sa40\tx2552 \f5\fs20\lang2057 dp_air\tab Pressure drop of air stream
\par \pard\plain \s18\fi-1985\li2552\sb40\sa40\tx2552 \f5\fs20\lang2057 dp_fuel\tab Pressure drop of fuel stream
\par \pard\plain \s18\fi-1985\li2552\sb40\sa40\tx2552 \f5\fs20\lang2057 lambda\tab Air ratio: (available oxygen)/(stoichiometically required oxygen)
\par \pard\plain \s18\fi-1985\li2552\sb40\sa40\tx2552 \f5\fs20\lang2057 P_therm\tab Thermal fuel power based on lower heating value.
\par \pard\plain \s18\fi-1985\li2552\sb40\sa40\tx2552 \f5\fs20\lang2057 q_loss_rel\tab Heat loss relative to thermal power P_therm.
\par \pard\plain \s18\fi-1985\li2552\sb40\sa40\tx2552 \f5\fs20\lang2057 Q_loss\tab Heat loss to the environment.
\par \pard\plain \s18\fi-1985\li2552\sb40\sa40\tx2552 \f5\fs20\lang2057 E_loss\tab Loss of exergy
\par \pard\plain\par \pard\plain \s3\li-1701\sb240\sa120\keepn \b\f5\lang2057 org_comb_ash
\par \pard\plain \s20\sb60\sa60 \b\f5\fs20\lang2057 Purpose
\par \pard\plain \s16\sb120\sa120 \f5\fs20\lang2057 Combustion chamber for solid fuels containing inorganic ash. The ash sink must be connected while Dust may be referenced optionally in the exhaust gas stream.\par \pard\plain \s20\sb60\sa60 \b\f5\fs20\lang2057 Model equations
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # Model u_comb_o_/ org_comb_ash   developed 10.09.02 (T. Proell), latest modification 10.04.03 (T. Proell)
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # *********************************************************************************************************************************************************************************
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # ************************************************************             E Q U A T I O N      S E C T I O N                *******************************************************
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # *********************************************************************************************************************************************************************************
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # Model org_comb does not allow any Tar at all.
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # Ash is required in fuel and the ash_drain must be connected. The same inorganic composition should be used for fuel Ash, ash_drain, and Dust in drain.
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # This is only a combustion chamber, no carbonate or Ca(OH)2 conversion can take place in the Dust phase
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # Lack of oxygen will produce CO in exhaust gas.
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # The solid composition of ash in fuel, ash at ash drain, and dust in exhaust is the same and therefore the same global objects must be used.
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # The organic compositions of the char coke residues in ash and in exhaust gas are not determined within this model.
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # The uncombusted species CO, C and H in solid char residue, and C and H in fly char are entering the calculation of lambda.
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # Energy balance defines exhaust gas temperature
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 fh_total:\tab drain.massflow*drain.h_total \tab + ash.massflow*ash.h_total + Q_loss*3600.0 \tab = air.massflow*air.h_total \tab + fuel.massflow*fuel.h_total;
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 fdt_ash:\tab ash.t + dt_ash = drain.t;
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # Mass balance for dust
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab # Case 1: No Dust referenced in exhaust gas
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab ifl !ref(drain.Dust) then
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab f1ash:\tab ash.massflow = fuel.massflow*fuel.ash_content;
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab # Case 2: Dust referenced in exhaust gas
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab elsel
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab f2ash:\tab ash.massflow + drain.nvolflow*(drain.dust_content/1000.0) = fuel.massflow*fuel.ash_content;
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab endifl
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # Fraction of fly ash
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 f_fly_ash:\tab fract_fly_ash*ash.massflow = drain.nvolflow*(drain.dust_content/1000.0);
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # Elementary mass balances and chemical reactions
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # Case 1: No uncombusted carbon in the ash drain (No Char referenced in the solid stream)
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 ifl ref(ash.Solid) && !ref(ash.Char) then
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab f1H:\tab drain.massflow*(4*drain.Gas.wC2H4*1.00794/28.05376 + 6*drain.Gas.wC2H6*1.00794/30.06964 + 8*drain.Gas.wC3H8*1.00794/44.09652 + 4*drain.Gas.wCH4*1.00794/16.04276 + drain.Gas.wH2 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab \tab + 2*drain.Gas.wH2O*1.00794/18.01528 + 2*drain.Gas.wH2S*1.00794/34.08188 + drain.Gas.wHCl*1.00794/36.46064 + drain.Gas.wHCN*1.00794/27.02568 + 3*drain.Gas.wNH3*1.00794/17.03056)
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab = air.massflow*(4*air.Gas.wC2H4*1.00794/28.0536 + 6*air.Gas.wC2H6*1.00794/30.0694 + 8*air.Gas.wC3H8*1.00794/44.0962 + 4*air.Gas.wCH4*1.00794/16.0428 + air.Gas.wH2 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab \tab + 2*air.Gas.wH2O*1.00794/18.01528 + 2*air.Gas.wH2S*1.00794/34.08188 + air.Gas.wHCl*1.00794/36.46064 + air.Gas.wHCN*1.00794/27.02568 + 3*air.Gas.wNH3*1.00794/17.03056) 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab + fuel.massflow*(2*fuel.water_content*1.00794/18.01528 + (1.0 - fuel.water_content - fuel.ash_content)*fuel.Organic.wH);
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab f1C:\tab drain.massflow*(2*drain.Gas.wC2H4*12.011/28.0536 + 2*drain.Gas.wC2H6*12.011/30.0694 + 3*drain.Gas.wC3H8*12.011/44.0962 + drain.Gas.wCH4*12.011/16.0428 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab \tab + drain.Gas.wCO*12.011/28.0140 + drain.Gas.wCO2*12.011/44.0098 + drain.Gas.wHCN*12.011/27.02568)
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab = air.massflow*(2*air.Gas.wC2H4*12.011/28.0536 + 2*air.Gas.wC2H6*12.011/30.0694 + 3*air.Gas.wC3H8*12.011/44.0962 + air.Gas.wCH4*12.011/16.0428 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab \tab + air.Gas.wCO*12.011/28.0140 + air.Gas.wCO2*12.011/44.0098 + air.Gas.wHCN*12.011/27.02568) 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab + fuel.massflow*(1.0 - fuel.water_content - fuel.ash_content)*fuel.Organic.wC;
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab f1N:\tab drain.massflow*(drain.Gas.wHCN*14.00674/27.02568 + drain.Gas.wN2 + 2*drain.Gas.wN2O*14.00674/44.01288 + drain.Gas.wNH3*14.00674/17.03056 + drain.Gas.wNO*14.00674/30.00614)
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab = air.massflow*(air.Gas.wHCN*14.00674/27.02568 + air.Gas.wN2 + 2*air.Gas.wN2O*14.00674/44.01288 + air.Gas.wNH3*14.00674/17.03056 + air.Gas.wNO*14.00674/30.00614) 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab + fuel.massflow*(1.0 - fuel.water_content - fuel.ash_content)*fuel.Organic.wN;
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab f1O:\tab drain.massflow*(drain.Gas.wCO*15.9994/28.0104 + 2*drain.Gas.wCO2*15.9994/44.0098 + drain.Gas.wH2O*15.9994/18.01528 + drain.Gas.wN2O*15.9994/44.01288 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab \tab + drain.Gas.wNO*15.9994/30.00614 + drain.Gas.wO2 + 2*drain.Gas.wSO2*15.9994/64.0648)
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab  \tab = air.massflow*(air.Gas.wCO*15.9994/28.0104 + 2*air.Gas.wCO2*15.9994/44.0098 + air.Gas.wH2O*15.9994/18.01528 + air.Gas.wN2O*15.9994/44.01288 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab \tab + air.Gas.wNO*15.9994/30.00614 + air.Gas.wO2 + 2*air.Gas.wSO2*15.9994/64.0648)
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab + fuel.massflow*(fuel.water_content*15.9994/18.01528 + (1.0 - fuel.water_content - fuel.ash_content)*fuel.Organic.wO);
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab f1S:\tab drain.massflow*(drain.Gas.wH2S*32.066/34.08188 + drain.Gas.wSO2*32.066/64.0648)
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab = air.massflow*(air.Gas.wH2S*32.066/34.08188 + air.Gas.wSO2*32.066/64.0648)
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab + fuel.massflow*(1.0 - fuel.water_content - fuel.ash_content)*fuel.Organic.wS;
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab f1Cl:\tab drain.massflow*drain.Gas.wHCl*35.4527/36.46064 = air.massflow*air.Gas.wHCl*35.4527/36.46064 + fuel.massflow*(1.0 - fuel.water_content - fuel.ash_content)*fuel.Organic.wCl;
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab f1Ar:\tab drain.massflow*drain.Gas.wAr = air.massflow*air.Gas.wAr;
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 endifl
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # Case 2: Uncombusted carbon in the ash drain (Char referenced in the solid stream)
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 ifl ref(ash.Char) && !ref(drain.Char) then
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab f2H:\tab drain.massflow*(4*drain.Gas.wC2H4*1.00794/28.05376 + 6*drain.Gas.wC2H6*1.00794/30.06964 + 8*drain.Gas.wC3H8*1.00794/44.09652 + 4*drain.Gas.wCH4*1.00794/16.04276 + drain.Gas.wH2 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab \tab + 2*drain.Gas.wH2O*1.00794/18.01528 + 2*drain.Gas.wH2S*1.00794/34.08188 + drain.Gas.wHCl*1.00794/36.46064 + drain.Gas.wHCN*1.00794/27.02568 + 3*drain.Gas.wNH3*1.00794/17.03056)
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab + ash.massflow*ash.char_content*ash.Char.wH
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab = air.massflow*(4*air.Gas.wC2H4*1.00794/28.0536 + 6*air.Gas.wC2H6*1.00794/30.0694 + 8*air.Gas.wC3H8*1.00794/44.0962 + 4*air.Gas.wCH4*1.00794/16.0428 + air.Gas.wH2 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab \tab + 2*air.Gas.wH2O*1.00794/18.01528 + 2*air.Gas.wH2S*1.00794/34.08188 + air.Gas.wHCl*1.00794/36.46064 + air.Gas.wHCN*1.00794/27.02568 + 3*air.Gas.wNH3*1.00794/17.03056) 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab + fuel.massflow*(2*fuel.water_content*1.00794/18.01528 + (1.0 - fuel.water_content - fuel.ash_content)*fuel.Organic.wH);
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab f2C:\tab drain.massflow*(2*drain.Gas.wC2H4*12.011/28.0536 + 2*drain.Gas.wC2H6*12.011/30.0694 + 3*drain.Gas.wC3H8*12.011/44.0962 + drain.Gas.wCH4*12.011/16.0428 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab \tab + drain.Gas.wCO*12.011/28.0140 + drain.Gas.wCO2*12.011/44.0098 + drain.Gas.wHCN*12.011/27.02568)
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab + ash.massflow*ash.char_content*ash.Char.wC
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab = air.massflow*(2*air.Gas.wC2H4*12.011/28.0536 + 2*air.Gas.wC2H6*12.011/30.0694 + 3*air.Gas.wC3H8*12.011/44.0962 + air.Gas.wCH4*12.011/16.0428 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab \tab + air.Gas.wCO*12.011/28.0140 + air.Gas.wCO2*12.011/44.0098 + air.Gas.wHCN*12.011/27.02568) 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab + fuel.massflow*(1.0 - fuel.water_content - fuel.ash_content)*fuel.Organic.wC;
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab f2N:\tab drain.massflow*(drain.Gas.wHCN*14.00674/27.02568 + drain.Gas.wN2 + 2*drain.Gas.wN2O*14.00674/44.01288 + drain.Gas.wNH3*14.00674/17.03056 + drain.Gas.wNO*14.00674/30.00614)
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab + ash.massflow*ash.char_content*ash.Char.wN
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab = air.massflow*(air.Gas.wHCN*14.00674/27.02568 + air.Gas.wN2 + 2*air.Gas.wN2O*14.00674/44.01288 + air.Gas.wNH3*14.00674/17.03056 + air.Gas.wNO*14.00674/30.00614) 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab + fuel.massflow*(1.0 - fuel.water_content - fuel.ash_content)*fuel.Organic.wN;
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab f2O:\tab drain.massflow*(drain.Gas.wCO*15.9994/28.0104 + 2*drain.Gas.wCO2*15.9994/44.0098 + drain.Gas.wH2O*15.9994/18.01528 + drain.Gas.wN2O*15.9994/44.01288 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab \tab + drain.Gas.wNO*15.9994/30.00614 + drain.Gas.wO2 + 2*drain.Gas.wSO2*15.9994/64.0648)
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab + ash.massflow*ash.char_content*ash.Char.wO
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab  \tab = air.massflow*(air.Gas.wCO*15.9994/28.0104 + 2*air.Gas.wCO2*15.9994/44.0098 + air.Gas.wH2O*15.9994/18.01528 + air.Gas.wN2O*15.9994/44.01288 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab \tab + air.Gas.wNO*15.9994/30.00614 + air.Gas.wO2 + 2*air.Gas.wSO2*15.9994/64.0648)
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab + fuel.massflow*(fuel.water_content*15.9994/18.01528 + (1.0 - fuel.water_content - fuel.ash_content)*fuel.Organic.wO);
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab f2S:\tab drain.massflow*(drain.Gas.wH2S*32.066/34.08188 + drain.Gas.wSO2*32.066/64.0648)
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab + ash.massflow*ash.char_content*ash.Char.wS
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab = air.massflow*(air.Gas.wH2S*32.066/34.08188 + air.Gas.wSO2*32.066/64.0648)
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab + fuel.massflow*(1.0 - fuel.water_content - fuel.ash_content)*fuel.Organic.wS;
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab f2Cl:\tab drain.massflow*drain.Gas.wHCl*35.4527/36.46064 + ash.massflow*ash.char_content*ash.Char.wCl
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab = air.massflow*air.Gas.wHCl*35.4527/36.46064 + fuel.massflow*(1.0 - fuel.water_content - fuel.ash_content)*fuel.Organic.wCl;
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab f2Ar:\tab drain.massflow*drain.Gas.wAr = air.massflow*air.Gas.wAr;
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 endifl
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # Case 3: Uncombusted carbon in the ash drain and in the exhaust gas stream (Char referenced in the solid stream and in the exhaust gas stream)
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 ifl ref(ash.Char) && ref(drain.Char) then
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab f3H:\tab drain.massflow*(4*drain.Gas.wC2H4*1.00794/28.05376 + 6*drain.Gas.wC2H6*1.00794/30.06964 + 8*drain.Gas.wC3H8*1.00794/44.09652 + 4*drain.Gas.wCH4*1.00794/16.04276 + drain.Gas.wH2 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab \tab + 2*drain.Gas.wH2O*1.00794/18.01528 + 2*drain.Gas.wH2S*1.00794/34.08188 + drain.Gas.wHCl*1.00794/36.46064 + drain.Gas.wHCN*1.00794/27.02568 + 3*drain.Gas.wNH3*1.00794/17.03056)
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab + drain.nvolflow*(drain.char_content/1000.0)*drain.Char.wH
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab + ash.massflow*ash.char_content*ash.Char.wH
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab = air.massflow*(4*air.Gas.wC2H4*1.00794/28.0536 + 6*air.Gas.wC2H6*1.00794/30.0694 + 8*air.Gas.wC3H8*1.00794/44.0962 + 4*air.Gas.wCH4*1.00794/16.0428 + air.Gas.wH2 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab \tab + 2*air.Gas.wH2O*1.00794/18.01528 + 2*air.Gas.wH2S*1.00794/34.08188 + air.Gas.wHCl*1.00794/36.46064 + air.Gas.wHCN*1.00794/27.02568 + 3*air.Gas.wNH3*1.00794/17.03056) 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab + fuel.massflow*(2*fuel.water_content*1.00794/18.01528 + (1.0 - fuel.water_content - fuel.ash_content)*fuel.Organic.wH);
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab f3C:\tab drain.massflow*(2*drain.Gas.wC2H4*12.011/28.0536 + 2*drain.Gas.wC2H6*12.011/30.0694 + 3*drain.Gas.wC3H8*12.011/44.0962 + drain.Gas.wCH4*12.011/16.0428 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab \tab + drain.Gas.wCO*12.011/28.0140 + drain.Gas.wCO2*12.011/44.0098 + drain.Gas.wHCN*12.011/27.02568)
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab + drain.nvolflow*(drain.char_content/1000.0)*drain.Char.wC
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab + ash.massflow*ash.char_content*ash.Char.wC
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab = air.massflow*(2*air.Gas.wC2H4*12.011/28.0536 + 2*air.Gas.wC2H6*12.011/30.0694 + 3*air.Gas.wC3H8*12.011/44.0962 + air.Gas.wCH4*12.011/16.0428 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab \tab + air.Gas.wCO*12.011/28.0140 + air.Gas.wCO2*12.011/44.0098 + air.Gas.wHCN*12.011/27.02568) 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab + fuel.massflow*(1.0 - fuel.water_content - fuel.ash_content)*fuel.Organic.wC;
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab f3N:\tab drain.massflow*(drain.Gas.wHCN*14.00674/27.02568 + drain.Gas.wN2 + 2*drain.Gas.wN2O*14.00674/44.01288 + drain.Gas.wNH3*14.00674/17.03056 + drain.Gas.wNO*14.00674/30.00614)
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab + drain.nvolflow*(drain.char_content/1000.0)*drain.Char.wN
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab + ash.massflow*ash.char_content*ash.Char.wN
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab = air.massflow*(air.Gas.wHCN*14.00674/27.02568 + air.Gas.wN2 + 2*air.Gas.wN2O*14.00674/44.01288 + air.Gas.wNH3*14.00674/17.03056 + air.Gas.wNO*14.00674/30.00614) 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab + fuel.massflow*(1.0 - fuel.water_content - fuel.ash_content)*fuel.Organic.wN;
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab f3O:\tab drain.massflow*(drain.Gas.wCO*15.9994/28.0104 + 2*drain.Gas.wCO2*15.9994/44.0098 + drain.Gas.wH2O*15.9994/18.01528 + drain.Gas.wN2O*15.9994/44.01288 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab \tab + drain.Gas.wNO*15.9994/30.00614 + drain.Gas.wO2 + 2*drain.Gas.wSO2*15.9994/64.0648)
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab + drain.nvolflow*(drain.char_content/1000.0)*drain.Char.wO
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab + ash.massflow*ash.char_content*ash.Char.wO
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab  \tab = air.massflow*(air.Gas.wCO*15.9994/28.0104 + 2*air.Gas.wCO2*15.9994/44.0098 + air.Gas.wH2O*15.9994/18.01528 + air.Gas.wN2O*15.9994/44.01288 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab \tab + air.Gas.wNO*15.9994/30.00614 + air.Gas.wO2 + 2*air.Gas.wSO2*15.9994/64.0648)
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab + fuel.massflow*(fuel.water_content*15.9994/18.01528 + (1.0 - fuel.water_content - fuel.ash_content)*fuel.Organic.wO);
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab f3S:\tab drain.massflow*(drain.Gas.wH2S*32.066/34.08188 + drain.Gas.wSO2*32.066/64.0648)
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab + drain.nvolflow*(drain.char_content/1000.0)*drain.Char.wS
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab + ash.massflow*ash.char_content*ash.Char.wS
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab = air.massflow*(air.Gas.wH2S*32.066/34.08188 + air.Gas.wSO2*32.066/64.0648)
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab + fuel.massflow*(1.0 - fuel.water_content - fuel.ash_content)*fuel.Organic.wS;
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab f3Cl:\tab drain.massflow*drain.Gas.wHCl*35.4527/36.46064 + ash.massflow*ash.char_content*ash.Char.wCl + drain.nvolflow*(drain.char_content/1000.0)*drain.Char.wCl
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab = air.massflow*air.Gas.wHCl*35.4527/36.46064 + fuel.massflow*(1.0 - fuel.water_content - fuel.ash_content)*fuel.Organic.wCl;
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab f3Ar:\tab drain.massflow*drain.Gas.wAr = air.massflow*air.Gas.wAr;
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 endifl
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # Chemical reactions\tab 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # No gaseous organic carbon in exhaust gas
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 frC2H4:\tab drain.Gas.yC2H4 = 0.0;
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 frC2H6:\tab drain.Gas.yC2H6 = 0.0;
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 frC3H8:\tab drain.Gas.yC3H8 = 0.0;
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 frCH4:\tab drain.Gas.yCH4 = 0.0;
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # No CO in case of lambda >= 1
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 frCO:\tab if lambda >= 1.0 \tab then drain.Gas.yCO = 0.0;
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab \tab else drain.Gas.yO2 = 0.0;
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # No hydrogen, hydrogen sulfide, hydrogen cyanide, nitrous oxide, or ammonia in exhaust gas
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 frH2:\tab drain.Gas.yH2 = 0.0;
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 frH2S:\tab drain.Gas.yH2S = 0.0;
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 frHCN:\tab drain.Gas.yHCN = 0.0;
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 frN2O:\tab drain.Gas.yN2O = 0.0;
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 frNH3:\tab drain.Gas.yNH3 = 0.0;
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # No thermal NO is formed, N2 passes without reaction
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 frN2:\tab  drain.nvolflow*drain.Gas.yN2 = air.nvolflow*air.Gas.yN2;
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # Pressure drops
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 fdp_air:\tab air.p = drain.p + dp_air;
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 fdp_fuel:\tab fuel.p = drain.p + dp_fuel;
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # Air ratio lambda: (available oxygen)/(stoichiometically required oxygen)
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab # Case 1: No uncombusted carbon neither in ash nor in exhaust gas
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab ifl !ref(ash.Char) && !ref(drain.Char) then
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab f1lambda:\tab lambda*drain.massflow*(drain.Gas.wO2 - drain.Gas.wCO*31.9988/56.0208 + drain.Gas.wNO*31.9988/60.01228) = air.massflow*air.Gas.wO2*(lambda - 1.0);
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab endifl
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab # Case 2: Uncombusted solid carbon in solid residue, no fly char
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab ifl ref(ash.Char) && !ref(drain.Char) then
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab f2lambda:\tab lambda*(drain.massflow*(drain.Gas.wO2 - drain.Gas.wCO*31.9988/56.0208 + drain.Gas.wNO*31.9988/60.01228) 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab \tab \tab + ash.massflow*ash.char_content*(ash.Char.wO - ash.Char.wC*31.9988/12.011 - ash.Char.wH*31.9988/4.03176)) 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab \tab = air.massflow*air.Gas.wO2*(lambda - 1.0);
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab endifl
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab # Case 3: Uncombusted solid carbon in solid residue and in exhaust gas
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab ifl ref(ash.Char) && ref(drain.Char) then
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab f3lambda:\tab lambda*(drain.massflow*(drain.Gas.wO2 - drain.Gas.wCO*31.9988/56.0208 + drain.Gas.wNO*31.9988/60.01228) 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab \tab \tab + drain.nvolflow* (drain.char_content/1000.0)*(drain.Char.wO - drain.Char.wC*31.9988/12.011 - drain.Char.wH*31.9988/4.03176)
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab \tab \tab + ash.massflow*ash.char_content*(ash.Char.wO - ash.Char.wC*31.9988/12.011 - ash.Char.wH*31.9988/4.03176)) 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab \tab = air.massflow*air.Gas.wO2*(lambda - 1.0);
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab endifl
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab \tab \tab 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # Thermal fuel power
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 fP_therm:\tab P_therm*3600.0 = fuel.massflow*fuel.lhv + air.nvolflow*air.Gas.LHV*1000.0;
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # Heat loss to the environment
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 fQ_loss:\tab Q_loss = P_therm*q_loss_rel/100.0;
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # Exergy loss
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 fE_loss:\tab air.Exergy + fuel.Exergy = drain.Exergy + E_loss;
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # *********************************************************************************************************************************************************************************
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # ************************************************************               T E S T I N G      S E C T I O N                  *******************************************************
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # *********************************************************************************************************************************************************************************
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # Test for positive pressure drops
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 tdp_air:\tab test (dp_air > -0.00001) \tab error "Pressure drop for air negative.";
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 tdp_fuel:\tab test (dp_fuel > -0.00001)\tab error "Pressure drop for fuel negative.";
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # Test if ash exits at a temperature lower than flue gas
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 tdt_ash:\tab test (dt_ash > -0.00001)\tab warning "Exit temperature of ash lower than gas drain temperature.";
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # Test if lambda is possible
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 tlambda1:\tab test (lambda >= 1.0) \tab warning "Lack of oxygen in combustor: lambda < 1.";
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 tlambda2: test (drain.Gas.yCO2 >= 0.0)\tab error "Not enough carbon for incomplete combustion to CO.";
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # Test for positive heat loss
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 tQ_loss:\tab test(q_loss_rel > -0.01) warning "Negative heat loss in combustion chamber.";
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # Test if ash drain is connected
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 ifl !ref(ash.Solid) then tash:\tab test (0.0>1.0) error "Model org_comb_ash requires connected ash drain."; endifl
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # Test if Dust is properly referenced
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 ifl ref(air.Dust) then tdust_air:\tab test (0.0>1.0) error "No Dust allowed in combustion air."; endifl
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 ifl !ref(fuel.Ash) then tdust_fuel2:\tab test (0.0>1.0) error "Model org_comb_ash requires Ash in fuel."; endifl
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 ifl (ref(drain.Dust) && (ref(fuel.Ash) != ref(drain.Dust) || ref(drain.Dust) != ref(ash.Solid))) || ref(fuel.Ash) != ref(ash.Solid) 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab then tsolid_global:\tab test (0.0>1.0) warning "The solid composition of fuel ash, ash drain and dust in exhaust gas is always the same. Therefore you should use the same g_cmp_sol_ object."; endifl
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # Test if solid carbon in ash drain and exhaust gas are properly referenced
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 ifl ref(drain.Char) && !ref(ash.Char) then tchar:\tab test (0.0>1.0) error "If Char is referenced in the exhaust gas it must also be referenced in the ash drain."; endifl
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # Test if Char and Tar are omitted
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 ifl ref(air.Char) || ref(air.Tar) then tchartar_air: test(0.0>1.0) error "No Char or Tar allowed in combustion air."; endifl
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 ifl ref(drain.Tar) then ttar_drain: test(0.0>1.0) error "No Tar allowed in exhaust gas."; endifl
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # Test for positive heat loss
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 tq_loss_rel1:\tab test (q_loss_rel > -0.00001) error "Heat loss negative.";
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # Test if relative heat loss is smaller than 100%
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 tq_loss_rel2:\tab test (q_loss_rel < 100.001) warning "Heat loss exceeds thermal fuel power.";
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s20\sb60\sa60 \b\f5\fs20\lang2057 Variables
\par \pard\plain \s18\fi-1985\li2552\sb40\sa40\tx2552 \f5\fs20\lang2057 dp_air\tab Pressure drop of air stream
\par \pard\plain \s18\fi-1985\li2552\sb40\sa40\tx2552 \f5\fs20\lang2057 dp_fuel\tab Pressure drop of fuel stream
\par \pard\plain \s18\fi-1985\li2552\sb40\sa40\tx2552 \f5\fs20\lang2057 lambda\tab Air ratio: (available oxygen)/(stoichiometically required oxygen)
\par \pard\plain \s18\fi-1985\li2552\sb40\sa40\tx2552 \f5\fs20\lang2057 dt_ash\tab Temperature difference between exhaust gas and ash drain.
\par \pard\plain \s18\fi-1985\li2552\sb40\sa40\tx2552 \f5\fs20\lang2057 fract_fly_ash\tab Fraction of ash exiting the combustion chamber as dust in exhaust gas.
\par \pard\plain \s18\fi-1985\li2552\sb40\sa40\tx2552 \f5\fs20\lang2057 P_therm\tab Thermal fuel power based on lower heating value.
\par \pard\plain \s18\fi-1985\li2552\sb40\sa40\tx2552 \f5\fs20\lang2057 q_loss_rel\tab Heat loss relative to thermal power P_therm.
\par \pard\plain \s18\fi-1985\li2552\sb40\sa40\tx2552 \f5\fs20\lang2057 Q_loss\tab Heat loss to the environment.
\par \pard\plain \s18\fi-1985\li2552\sb40\sa40\tx2552 \f5\fs20\lang2057 E_loss\tab Loss of exergy
\par \pard\plain\par \pard\plain \s3\li-1701\sb240\sa120\keepn \b\f5\lang2057 org_comb_fbc_bot
\par \pard\plain \s20\sb60\sa60 \b\f5\fs20\lang2057 Purpose
\par \pard\plain \s16\sb120\sa120 \f5\fs20\lang2057 Combustion chamber for solid fuels containing inorganic ash. The ash sink must be connected while Dust may be referenced optionally in the exhaust gas stream.\par \pard\plain \s20\sb60\sa60 \b\f5\fs20\lang2057 Model equations
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # Model u_comb_o_/ org_comb_ash   developed 10.09.02 (T. Proell), latest modification 10.04.03 (T. Proell)
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # *********************************************************************************************************************************************************************************
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # ************************************************************             E Q U A T I O N      S E C T I O N                *******************************************************
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # *********************************************************************************************************************************************************************************
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # Model org_comb does not allow any Tar at all.
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # Ash is required in fuel and the ash_drain must be connected. The same inorganic composition should be used for fuel Ash, ash_drain, and Dust in drain.
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # This is only a combustion chamber, no carbonate or Ca(OH)2 conversion can take place in the Dust phase
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # Lack of oxygen will produce CO in exhaust gas.
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # The solid composition of ash in fuel, ash at ash drain, and dust in exhaust is the same and therefore the same global objects must be used.
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # The organic compositions of the char coke residues in ash and in exhaust gas are not determined within this model.
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # The uncombusted species CO, C and H in solid char residue, and C and H in fly char are entering the calculation of lambda.
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # Energy balance defines exhaust gas temperature
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 fh_total:\tab drain.massflow*drain.h_total \tab + ash.massflow*ash.h_total + Q_loss*3600.0 \tab = air.massflow*air.h_total \tab + fuel.massflow*fuel.h_total;
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 fdt_ash:\tab ash.t + dt_ash = drain.t;
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # Mass balance for dust
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab # Case 1: No Dust referenced in exhaust gas
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab ifl !ref(drain.Dust) then
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab f1ash:\tab ash.massflow = fuel.massflow*fuel.ash_content;
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab # Case 2: Dust referenced in exhaust gas
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab elsel
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab f2ash:\tab ash.massflow + drain.nvolflow*(drain.dust_content/1000.0) = fuel.massflow*fuel.ash_content;
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab endifl
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # Fraction of fly ash
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 f_fly_ash:\tab fract_fly_ash*ash.massflow = drain.nvolflow*(drain.dust_content/1000.0);
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # Elementary mass balances and chemical reactions
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # Case 1: No uncombusted carbon in the ash drain (No Char referenced in the solid stream)
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 ifl ref(ash.Solid) && !ref(ash.Char) then
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab f1H:\tab drain.massflow*(4*drain.Gas.wC2H4*1.00794/28.05376 + 6*drain.Gas.wC2H6*1.00794/30.06964 + 8*drain.Gas.wC3H8*1.00794/44.09652 + 4*drain.Gas.wCH4*1.00794/16.04276 + drain.Gas.wH2 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab \tab + 2*drain.Gas.wH2O*1.00794/18.01528 + 2*drain.Gas.wH2S*1.00794/34.08188 + drain.Gas.wHCl*1.00794/36.46064 + drain.Gas.wHCN*1.00794/27.02568 + 3*drain.Gas.wNH3*1.00794/17.03056)
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab = air.massflow*(4*air.Gas.wC2H4*1.00794/28.0536 + 6*air.Gas.wC2H6*1.00794/30.0694 + 8*air.Gas.wC3H8*1.00794/44.0962 + 4*air.Gas.wCH4*1.00794/16.0428 + air.Gas.wH2 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab \tab + 2*air.Gas.wH2O*1.00794/18.01528 + 2*air.Gas.wH2S*1.00794/34.08188 + air.Gas.wHCl*1.00794/36.46064 + air.Gas.wHCN*1.00794/27.02568 + 3*air.Gas.wNH3*1.00794/17.03056) 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab + fuel.massflow*(2*fuel.water_content*1.00794/18.01528 + (1.0 - fuel.water_content - fuel.ash_content)*fuel.Organic.wH);
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab f1C:\tab drain.massflow*(2*drain.Gas.wC2H4*12.011/28.0536 + 2*drain.Gas.wC2H6*12.011/30.0694 + 3*drain.Gas.wC3H8*12.011/44.0962 + drain.Gas.wCH4*12.011/16.0428 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab \tab + drain.Gas.wCO*12.011/28.0140 + drain.Gas.wCO2*12.011/44.0098 + drain.Gas.wHCN*12.011/27.02568)
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab = air.massflow*(2*air.Gas.wC2H4*12.011/28.0536 + 2*air.Gas.wC2H6*12.011/30.0694 + 3*air.Gas.wC3H8*12.011/44.0962 + air.Gas.wCH4*12.011/16.0428 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab \tab + air.Gas.wCO*12.011/28.0140 + air.Gas.wCO2*12.011/44.0098 + air.Gas.wHCN*12.011/27.02568) 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab + fuel.massflow*(1.0 - fuel.water_content - fuel.ash_content)*fuel.Organic.wC;
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab f1N:\tab drain.massflow*(drain.Gas.wHCN*14.00674/27.02568 + drain.Gas.wN2 + 2*drain.Gas.wN2O*14.00674/44.01288 + drain.Gas.wNH3*14.00674/17.03056 + drain.Gas.wNO*14.00674/30.00614)
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab = air.massflow*(air.Gas.wHCN*14.00674/27.02568 + air.Gas.wN2 + 2*air.Gas.wN2O*14.00674/44.01288 + air.Gas.wNH3*14.00674/17.03056 + air.Gas.wNO*14.00674/30.00614) 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab + fuel.massflow*(1.0 - fuel.water_content - fuel.ash_content)*fuel.Organic.wN;
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab f1O:\tab drain.massflow*(drain.Gas.wCO*15.9994/28.0104 + 2*drain.Gas.wCO2*15.9994/44.0098 + drain.Gas.wH2O*15.9994/18.01528 + drain.Gas.wN2O*15.9994/44.01288 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab \tab + drain.Gas.wNO*15.9994/30.00614 + drain.Gas.wO2 + 2*drain.Gas.wSO2*15.9994/64.0648)
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab  \tab = air.massflow*(air.Gas.wCO*15.9994/28.0104 + 2*air.Gas.wCO2*15.9994/44.0098 + air.Gas.wH2O*15.9994/18.01528 + air.Gas.wN2O*15.9994/44.01288 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab \tab + air.Gas.wNO*15.9994/30.00614 + air.Gas.wO2 + 2*air.Gas.wSO2*15.9994/64.0648)
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab + fuel.massflow*(fuel.water_content*15.9994/18.01528 + (1.0 - fuel.water_content - fuel.ash_content)*fuel.Organic.wO);
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab f1S:\tab drain.massflow*(drain.Gas.wH2S*32.066/34.08188 + drain.Gas.wSO2*32.066/64.0648)
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab = air.massflow*(air.Gas.wH2S*32.066/34.08188 + air.Gas.wSO2*32.066/64.0648)
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab + fuel.massflow*(1.0 - fuel.water_content - fuel.ash_content)*fuel.Organic.wS;
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab f1Cl:\tab drain.massflow*drain.Gas.wHCl*35.4527/36.46064 = air.massflow*air.Gas.wHCl*35.4527/36.46064 + fuel.massflow*(1.0 - fuel.water_content - fuel.ash_content)*fuel.Organic.wCl;
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab f1Ar:\tab drain.massflow*drain.Gas.wAr = air.massflow*air.Gas.wAr;
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 endifl
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # Case 2: Uncombusted carbon in the ash drain (Char referenced in the solid stream)
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 ifl ref(ash.Char) && !ref(drain.Char) then
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab f2H:\tab drain.massflow*(4*drain.Gas.wC2H4*1.00794/28.05376 + 6*drain.Gas.wC2H6*1.00794/30.06964 + 8*drain.Gas.wC3H8*1.00794/44.09652 + 4*drain.Gas.wCH4*1.00794/16.04276 + drain.Gas.wH2 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab \tab + 2*drain.Gas.wH2O*1.00794/18.01528 + 2*drain.Gas.wH2S*1.00794/34.08188 + drain.Gas.wHCl*1.00794/36.46064 + drain.Gas.wHCN*1.00794/27.02568 + 3*drain.Gas.wNH3*1.00794/17.03056)
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab + ash.massflow*ash.char_content*ash.Char.wH
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab = air.massflow*(4*air.Gas.wC2H4*1.00794/28.0536 + 6*air.Gas.wC2H6*1.00794/30.0694 + 8*air.Gas.wC3H8*1.00794/44.0962 + 4*air.Gas.wCH4*1.00794/16.0428 + air.Gas.wH2 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab \tab + 2*air.Gas.wH2O*1.00794/18.01528 + 2*air.Gas.wH2S*1.00794/34.08188 + air.Gas.wHCl*1.00794/36.46064 + air.Gas.wHCN*1.00794/27.02568 + 3*air.Gas.wNH3*1.00794/17.03056) 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab + fuel.massflow*(2*fuel.water_content*1.00794/18.01528 + (1.0 - fuel.water_content - fuel.ash_content)*fuel.Organic.wH);
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab f2C:\tab drain.massflow*(2*drain.Gas.wC2H4*12.011/28.0536 + 2*drain.Gas.wC2H6*12.011/30.0694 + 3*drain.Gas.wC3H8*12.011/44.0962 + drain.Gas.wCH4*12.011/16.0428 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab \tab + drain.Gas.wCO*12.011/28.0140 + drain.Gas.wCO2*12.011/44.0098 + drain.Gas.wHCN*12.011/27.02568)
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab + ash.massflow*ash.char_content*ash.Char.wC
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab = air.massflow*(2*air.Gas.wC2H4*12.011/28.0536 + 2*air.Gas.wC2H6*12.011/30.0694 + 3*air.Gas.wC3H8*12.011/44.0962 + air.Gas.wCH4*12.011/16.0428 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab \tab + air.Gas.wCO*12.011/28.0140 + air.Gas.wCO2*12.011/44.0098 + air.Gas.wHCN*12.011/27.02568) 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab + fuel.massflow*(1.0 - fuel.water_content - fuel.ash_content)*fuel.Organic.wC;
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab f2N:\tab drain.massflow*(drain.Gas.wHCN*14.00674/27.02568 + drain.Gas.wN2 + 2*drain.Gas.wN2O*14.00674/44.01288 + drain.Gas.wNH3*14.00674/17.03056 + drain.Gas.wNO*14.00674/30.00614)
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab + ash.massflow*ash.char_content*ash.Char.wN
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab = air.massflow*(air.Gas.wHCN*14.00674/27.02568 + air.Gas.wN2 + 2*air.Gas.wN2O*14.00674/44.01288 + air.Gas.wNH3*14.00674/17.03056 + air.Gas.wNO*14.00674/30.00614) 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab + fuel.massflow*(1.0 - fuel.water_content - fuel.ash_content)*fuel.Organic.wN;
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab f2O:\tab drain.massflow*(drain.Gas.wCO*15.9994/28.0104 + 2*drain.Gas.wCO2*15.9994/44.0098 + drain.Gas.wH2O*15.9994/18.01528 + drain.Gas.wN2O*15.9994/44.01288 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab \tab + drain.Gas.wNO*15.9994/30.00614 + drain.Gas.wO2 + 2*drain.Gas.wSO2*15.9994/64.0648)
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab + ash.massflow*ash.char_content*ash.Char.wO
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab  \tab = air.massflow*(air.Gas.wCO*15.9994/28.0104 + 2*air.Gas.wCO2*15.9994/44.0098 + air.Gas.wH2O*15.9994/18.01528 + air.Gas.wN2O*15.9994/44.01288 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab \tab + air.Gas.wNO*15.9994/30.00614 + air.Gas.wO2 + 2*air.Gas.wSO2*15.9994/64.0648)
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab + fuel.massflow*(fuel.water_content*15.9994/18.01528 + (1.0 - fuel.water_content - fuel.ash_content)*fuel.Organic.wO);
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab f2S:\tab drain.massflow*(drain.Gas.wH2S*32.066/34.08188 + drain.Gas.wSO2*32.066/64.0648)
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab + ash.massflow*ash.char_content*ash.Char.wS
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab = air.massflow*(air.Gas.wH2S*32.066/34.08188 + air.Gas.wSO2*32.066/64.0648)
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab + fuel.massflow*(1.0 - fuel.water_content - fuel.ash_content)*fuel.Organic.wS;
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab f2Cl:\tab drain.massflow*drain.Gas.wHCl*35.4527/36.46064 + ash.massflow*ash.char_content*ash.Char.wCl
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab = air.massflow*air.Gas.wHCl*35.4527/36.46064 + fuel.massflow*(1.0 - fuel.water_content - fuel.ash_content)*fuel.Organic.wCl;
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab f2Ar:\tab drain.massflow*drain.Gas.wAr = air.massflow*air.Gas.wAr;
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 endifl
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # Case 3: Uncombusted carbon in the ash drain and in the exhaust gas stream (Char referenced in the solid stream and in the exhaust gas stream)
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 ifl ref(ash.Char) && ref(drain.Char) then
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab f3H:\tab drain.massflow*(4*drain.Gas.wC2H4*1.00794/28.05376 + 6*drain.Gas.wC2H6*1.00794/30.06964 + 8*drain.Gas.wC3H8*1.00794/44.09652 + 4*drain.Gas.wCH4*1.00794/16.04276 + drain.Gas.wH2 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab \tab + 2*drain.Gas.wH2O*1.00794/18.01528 + 2*drain.Gas.wH2S*1.00794/34.08188 + drain.Gas.wHCl*1.00794/36.46064 + drain.Gas.wHCN*1.00794/27.02568 + 3*drain.Gas.wNH3*1.00794/17.03056)
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab + drain.nvolflow*(drain.char_content/1000.0)*drain.Char.wH
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab + ash.massflow*ash.char_content*ash.Char.wH
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab = air.massflow*(4*air.Gas.wC2H4*1.00794/28.0536 + 6*air.Gas.wC2H6*1.00794/30.0694 + 8*air.Gas.wC3H8*1.00794/44.0962 + 4*air.Gas.wCH4*1.00794/16.0428 + air.Gas.wH2 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab \tab + 2*air.Gas.wH2O*1.00794/18.01528 + 2*air.Gas.wH2S*1.00794/34.08188 + air.Gas.wHCl*1.00794/36.46064 + air.Gas.wHCN*1.00794/27.02568 + 3*air.Gas.wNH3*1.00794/17.03056) 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab + fuel.massflow*(2*fuel.water_content*1.00794/18.01528 + (1.0 - fuel.water_content - fuel.ash_content)*fuel.Organic.wH);
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab f3C:\tab drain.massflow*(2*drain.Gas.wC2H4*12.011/28.0536 + 2*drain.Gas.wC2H6*12.011/30.0694 + 3*drain.Gas.wC3H8*12.011/44.0962 + drain.Gas.wCH4*12.011/16.0428 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab \tab + drain.Gas.wCO*12.011/28.0140 + drain.Gas.wCO2*12.011/44.0098 + drain.Gas.wHCN*12.011/27.02568)
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab + drain.nvolflow*(drain.char_content/1000.0)*drain.Char.wC
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab + ash.massflow*ash.char_content*ash.Char.wC
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab = air.massflow*(2*air.Gas.wC2H4*12.011/28.0536 + 2*air.Gas.wC2H6*12.011/30.0694 + 3*air.Gas.wC3H8*12.011/44.0962 + air.Gas.wCH4*12.011/16.0428 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab \tab + air.Gas.wCO*12.011/28.0140 + air.Gas.wCO2*12.011/44.0098 + air.Gas.wHCN*12.011/27.02568) 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab + fuel.massflow*(1.0 - fuel.water_content - fuel.ash_content)*fuel.Organic.wC;
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab f3N:\tab drain.massflow*(drain.Gas.wHCN*14.00674/27.02568 + drain.Gas.wN2 + 2*drain.Gas.wN2O*14.00674/44.01288 + drain.Gas.wNH3*14.00674/17.03056 + drain.Gas.wNO*14.00674/30.00614)
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab + drain.nvolflow*(drain.char_content/1000.0)*drain.Char.wN
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab + ash.massflow*ash.char_content*ash.Char.wN
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab = air.massflow*(air.Gas.wHCN*14.00674/27.02568 + air.Gas.wN2 + 2*air.Gas.wN2O*14.00674/44.01288 + air.Gas.wNH3*14.00674/17.03056 + air.Gas.wNO*14.00674/30.00614) 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab + fuel.massflow*(1.0 - fuel.water_content - fuel.ash_content)*fuel.Organic.wN;
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab f3O:\tab drain.massflow*(drain.Gas.wCO*15.9994/28.0104 + 2*drain.Gas.wCO2*15.9994/44.0098 + drain.Gas.wH2O*15.9994/18.01528 + drain.Gas.wN2O*15.9994/44.01288 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab \tab + drain.Gas.wNO*15.9994/30.00614 + drain.Gas.wO2 + 2*drain.Gas.wSO2*15.9994/64.0648)
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab + drain.nvolflow*(drain.char_content/1000.0)*drain.Char.wO
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab + ash.massflow*ash.char_content*ash.Char.wO
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab  \tab = air.massflow*(air.Gas.wCO*15.9994/28.0104 + 2*air.Gas.wCO2*15.9994/44.0098 + air.Gas.wH2O*15.9994/18.01528 + air.Gas.wN2O*15.9994/44.01288 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab \tab + air.Gas.wNO*15.9994/30.00614 + air.Gas.wO2 + 2*air.Gas.wSO2*15.9994/64.0648)
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab + fuel.massflow*(fuel.water_content*15.9994/18.01528 + (1.0 - fuel.water_content - fuel.ash_content)*fuel.Organic.wO);
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab f3S:\tab drain.massflow*(drain.Gas.wH2S*32.066/34.08188 + drain.Gas.wSO2*32.066/64.0648)
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab + drain.nvolflow*(drain.char_content/1000.0)*drain.Char.wS
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab + ash.massflow*ash.char_content*ash.Char.wS
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab = air.massflow*(air.Gas.wH2S*32.066/34.08188 + air.Gas.wSO2*32.066/64.0648)
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab + fuel.massflow*(1.0 - fuel.water_content - fuel.ash_content)*fuel.Organic.wS;
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab f3Cl:\tab drain.massflow*drain.Gas.wHCl*35.4527/36.46064 + ash.massflow*ash.char_content*ash.Char.wCl + drain.nvolflow*(drain.char_content/1000.0)*drain.Char.wCl
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab = air.massflow*air.Gas.wHCl*35.4527/36.46064 + fuel.massflow*(1.0 - fuel.water_content - fuel.ash_content)*fuel.Organic.wCl;
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab f3Ar:\tab drain.massflow*drain.Gas.wAr = air.massflow*air.Gas.wAr;
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 endifl
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # Chemical reactions\tab 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # No gaseous organic carbon in exhaust gas
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 frC2H4:\tab drain.Gas.yC2H4 = 0.0;
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 frC2H6:\tab drain.Gas.yC2H6 = 0.0;
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 frC3H8:\tab drain.Gas.yC3H8 = 0.0;
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 frCH4:\tab drain.Gas.yCH4 = 0.0;
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # No CO in case of lambda >= 1
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 frCO:\tab if lambda >= 1.0 \tab then drain.Gas.yCO = 0.0;
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab \tab else drain.Gas.yO2 = 0.0;
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # No hydrogen, hydrogen sulfide, hydrogen cyanide, nitrous oxide, or ammonia in exhaust gas
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 frH2:\tab drain.Gas.yH2 = 0.0;
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 frH2S:\tab drain.Gas.yH2S = 0.0;
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 frHCN:\tab drain.Gas.yHCN = 0.0;
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 frN2O:\tab drain.Gas.yN2O = 0.0;
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 frNH3:\tab drain.Gas.yNH3 = 0.0;
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # No thermal NO is formed, N2 passes without reaction
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 frN2:\tab  drain.nvolflow*drain.Gas.yN2 = air.nvolflow*air.Gas.yN2;
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # Pressure drops
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 fdp_air:\tab air.p = drain.p + dp_air;
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 fdp_fuel:\tab fuel.p = drain.p + dp_fuel;
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # Air ratio lambda: (available oxygen)/(stoichiometically required oxygen)
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab # Case 1: No uncombusted carbon neither in ash nor in exhaust gas
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab ifl !ref(ash.Char) && !ref(drain.Char) then
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab f1lambda:\tab lambda*drain.massflow*(drain.Gas.wO2 - drain.Gas.wCO*31.9988/56.0208 + drain.Gas.wNO*31.9988/60.01228) = air.massflow*air.Gas.wO2*(lambda - 1.0);
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab endifl
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab # Case 2: Uncombusted solid carbon in solid residue, no fly char
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab ifl ref(ash.Char) && !ref(drain.Char) then
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab f2lambda:\tab lambda*(drain.massflow*(drain.Gas.wO2 - drain.Gas.wCO*31.9988/56.0208 + drain.Gas.wNO*31.9988/60.01228) 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab \tab \tab + ash.massflow*ash.char_content*(ash.Char.wO - ash.Char.wC*31.9988/12.011 - ash.Char.wH*31.9988/4.03176)) 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab \tab = air.massflow*air.Gas.wO2*(lambda - 1.0);
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab endifl
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab # Case 3: Uncombusted solid carbon in solid residue and in exhaust gas
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab ifl ref(ash.Char) && ref(drain.Char) then
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab f3lambda:\tab lambda*(drain.massflow*(drain.Gas.wO2 - drain.Gas.wCO*31.9988/56.0208 + drain.Gas.wNO*31.9988/60.01228) 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab \tab \tab + drain.nvolflow* (drain.char_content/1000.0)*(drain.Char.wO - drain.Char.wC*31.9988/12.011 - drain.Char.wH*31.9988/4.03176)
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab \tab \tab + ash.massflow*ash.char_content*(ash.Char.wO - ash.Char.wC*31.9988/12.011 - ash.Char.wH*31.9988/4.03176)) 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab \tab = air.massflow*air.Gas.wO2*(lambda - 1.0);
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab endifl
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab \tab \tab \tab 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # Thermal fuel power
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 fP_therm:\tab P_therm*3600.0 = fuel.massflow*fuel.lhv + air.nvolflow*air.Gas.LHV*1000.0;
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # Heat loss to the environment
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 fQ_loss:\tab Q_loss = P_therm*q_loss_rel/100.0;
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # Exergy loss
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 fE_loss:\tab air.Exergy + fuel.Exergy = drain.Exergy + E_loss;
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # *********************************************************************************************************************************************************************************
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # ************************************************************               T E S T I N G      S E C T I O N                  *******************************************************
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # *********************************************************************************************************************************************************************************
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # Test for positive pressure drops
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 tdp_air:\tab test (dp_air > -0.00001) \tab error "Pressure drop for air negative.";
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 tdp_fuel:\tab test (dp_fuel > -0.00001)\tab error "Pressure drop for fuel negative.";
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # Test if ash exits at a temperature lower than flue gas
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 tdt_ash:\tab test (dt_ash > -0.00001)\tab warning "Exit temperature of ash lower than gas drain temperature.";
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # Test if lambda is possible
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 tlambda1:\tab test (lambda >= 1.0) \tab warning "Lack of oxygen in combustor: lambda < 1.";
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 tlambda2: test (drain.Gas.yCO2 >= 0.0)\tab error "Not enough carbon for incomplete combustion to CO.";
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # Test for positive heat loss
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 tQ_loss:\tab test(q_loss_rel > -0.01) warning "Negative heat loss in combustion chamber.";
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # Test if ash drain is connected
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 ifl !ref(ash.Solid) then tash:\tab test (0.0>1.0) error "Model org_comb_ash requires connected ash drain."; endifl
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # Test if Dust is properly referenced
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 ifl ref(air.Dust) then tdust_air:\tab test (0.0>1.0) error "No Dust allowed in combustion air."; endifl
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 ifl !ref(fuel.Ash) then tdust_fuel2:\tab test (0.0>1.0) error "Model org_comb_ash requires Ash in fuel."; endifl
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 ifl (ref(drain.Dust) && (ref(fuel.Ash) != ref(drain.Dust) || ref(drain.Dust) != ref(ash.Solid))) || ref(fuel.Ash) != ref(ash.Solid) 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 \tab then tsolid_global:\tab test (0.0>1.0) warning "The solid composition of fuel ash, ash drain and dust in exhaust gas is always the same. Therefore you should use the same g_cmp_sol_ object."; endifl
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # Test if solid carbon in ash drain and exhaust gas are properly referenced
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 ifl ref(drain.Char) && !ref(ash.Char) then tchar:\tab test (0.0>1.0) error "If Char is referenced in the exhaust gas it must also be referenced in the ash drain."; endifl
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # Test if Char and Tar are omitted
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 ifl ref(air.Char) || ref(air.Tar) then tchartar_air: test(0.0>1.0) error "No Char or Tar allowed in combustion air."; endifl
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 ifl ref(drain.Tar) then ttar_drain: test(0.0>1.0) error "No Tar allowed in exhaust gas."; endifl
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # Test for positive heat loss
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 tq_loss_rel1:\tab test (q_loss_rel > -0.00001) error "Heat loss negative.";
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 # Test if relative heat loss is smaller than 100%
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 tq_loss_rel2:\tab test (q_loss_rel < 100.001) warning "Heat loss exceeds thermal fuel power.";
\par \pard\plain \s17\li567\sb32\sa32\nowidctlpar \f5\fs20\lang2057 
\par \pard\plain \s20\sb60\sa60 \b\f5\fs20\lang2057 Variables
\par \pard\plain \s18\fi-1985\li2552\sb40\sa40\tx2552 \f5\fs20\lang2057 dp_air\tab Pressure drop of air stream
\par \pard\plain \s18\fi-1985\li2552\sb40\sa40\tx2552 \f5\fs20\lang2057 dp_fuel\tab Pressure drop of fuel stream
\par \pard\plain \s18\fi-1985\li2552\sb40\sa40\tx2552 \f5\fs20\lang2057 lambda\tab Air ratio: (available oxygen)/(stoichiometically required oxygen)
\par \pard\plain \s18\fi-1985\li2552\sb40\sa40\tx2552 \f5\fs20\lang2057 dt_ash\tab Temperature difference between exhaust gas and ash drain.
\par \pard\plain \s18\fi-1985\li2552\sb40\sa40\tx2552 \f5\fs20\lang2057 fract_fly_ash\tab Fraction of ash exiting the combustion chamber as dust in exhaust gas.
\par \pard\plain \s18\fi-1985\li2552\sb40\sa40\tx2552 \f5\fs20\lang2057 P_therm\tab Thermal fuel power based on lower heating value.
\par \pard\plain \s18\fi-1985\li2552\sb40\sa40\tx2552 \f5\fs20\lang2057 q_loss_rel\tab Heat loss relative to thermal power P_therm.
\par \pard\plain \s18\fi-1985\li2552\sb40\sa40\tx2552 \f5\fs20\lang2057 Q_loss\tab Heat loss to the environment.
\par \pard\plain \s18\fi-1985\li2552\sb40\sa40\tx2552 \f5\fs20\lang2057 E_loss\tab Loss of exergy
\par \pard\plain \s18\fi-1985\li2552\sb40\sa40\tx2552 \f5\fs20\lang2057 A_bed\tab Bed cross section area of fluidized bed.
\par \pard\plain}